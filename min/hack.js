(()=>{"use strict";var __webpack_modules__={4320:(module,__unused_webpack_exports,__webpack_require__)=>{module=__webpack_require__.nmd(module);const fs_extra_1=__webpack_require__(4298),path_1=__webpack_require__(5622),tasks=[["koishi-core",2,["append","throw error2;","if (typeof error2 === 'string'){\n                session.user.usage[argv.command.name]--;\n                return session.send(error2);\n            }\n            session.send(error2.message);"]],["koishi-plugin-teach",3,["append","state.dialogue = dialogue;","\nsession._dialogue = dialogue;"],["replace",".toLowerCase().replace(/\\s+/g, '')",""],["replace","        if (index === 0)\n            message = message.replace(/^[()\\[\\]]*/, '');\n        if (index === arr.length - 1)\n            message = message.replace(/[\\.,?!()\\[\\]~]*$/, '');",""]]];async function hack(){console.log("Running Hack");for(const[filename,version,...changes]of tasks){let file;try{file=eval("require").resolve(filename)}catch(e){const name=filename.split("/")[0];file=eval("require").resolve(name).split(path_1.sep),file.pop(),file=`${file.join(path_1.sep)}${path_1.sep}${filename.split("/")[1]}`}let content=fs_extra_1.existsSync(file)?fs_extra_1.readFileSync(file).toString():"";if("string"==typeof version){fs_extra_1.writeFileSync(file,version);continue}const first=content.split("\n")[0],ver=parseInt(first.split("// Hacked v")[1],10);if(!(ver>=version)){for(const[e,r,n,t]of changes)if("replace"===e)content=content.replace(r,n);else if("replaceBetween"===e){const[e,s]=content.split(r),[,_]=s.split(n);content=e+r+t+n+_}else"append"===e?content=content.replace(r,r+n):"remove"===e&&(content=content.replace(r,""));content=`// Hacked v${version}\n${content}`,fs_extra_1.writeFileSync(file,content)}}}module.parent||hack(),module.exports=hack},4298:e=>{e.exports=require("fs-extra")},5622:e=>{e.exports=require("path")}},__webpack_module_cache__={};function __webpack_require__(e){var r=__webpack_module_cache__[e];if(void 0!==r)return r.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var __webpack_exports__=__webpack_require__(4320)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oeWRyby1ib3QvLi9zcmMvaGFjay50cyIsIndlYnBhY2s6Ly9oeWRyby1ib3QvZXh0ZXJuYWwgXCJmcy1leHRyYVwiIiwid2VicGFjazovL2h5ZHJvLWJvdC9leHRlcm5hbCBcInBhdGhcIiIsIndlYnBhY2s6Ly9oeWRyby1ib3Qvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vaHlkcm8tYm90L3dlYnBhY2svcnVudGltZS9ub2RlIG1vZHVsZSBkZWNvcmF0b3IiLCJ3ZWJwYWNrOi8vaHlkcm8tYm90L3dlYnBhY2svc3RhcnR1cCJdLCJuYW1lcyI6WyJ0YXNrcyIsImFzeW5jIiwiaGFjayIsImNvbnNvbGUiLCJsb2ciLCJmaWxlbmFtZSIsInZlcnNpb24iLCJjaGFuZ2VzIiwiZmlsZSIsImV2YWwiLCJyZXNvbHZlIiwiZSIsIm5hbWUiLCJzcGxpdCIsInNlcCIsInBvcCIsImpvaW4iLCJjb250ZW50IiwiZXhpc3RzU3luYyIsInJlYWRGaWxlU3luYyIsInRvU3RyaW5nIiwid3JpdGVGaWxlU3luYyIsImZpcnN0IiwidmVyIiwicGFyc2VJbnQiLCJ0eXBlIiwiYXJnMCIsImFyZzEiLCJhcmcyIiwicmVwbGFjZSIsImJlZm9yZSIsIm1pZCIsImFmdGVyIiwibW9kdWxlIiwicGFyZW50IiwiZXhwb3J0cyIsInJlcXVpcmUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJpZCIsImxvYWRlZCIsIl9fd2VicGFja19tb2R1bGVzX18iLCJubWQiLCJwYXRocyIsImNoaWxkcmVuIiwiX193ZWJwYWNrX2V4cG9ydHNfXyJdLCJtYXBwaW5ncyI6ImdKQUFBLDJDQUNBLGlDQUVNQSxNQUFvRCxDQUN0RCxDQUNJLGNBQWUsRUFDZixDQUNJLFNBQVUsZ0JBQ1YsdU1BT1IsQ0FDSSxzQkFBdUIsRUFDdkIsQ0FBQyxTQUFVLDZCQUE4QixtQ0FDekMsQ0FBQyxVQUFXLHNDQUF1QyxJQUNuRCxDQUFDLFVBQVcsaU1BR2dELE1BSXBFQyxlQUFlQyxPQUNYQyxRQUFRQyxJQUFJLGdCQUNaLElBQUssTUFBT0MsU0FBVUMsV0FBWUMsV0FBWVAsTUFBTyxDQUNqRCxJQUFJUSxLQUNKLElBRUlBLEtBQU9DLEtBQUssV0FBV0MsUUFBUUwsVUFDakMsTUFBT00sR0FDTCxNQUFNQyxLQUFPUCxTQUFTUSxNQUFNLEtBQUssR0FFakNMLEtBQU9DLEtBQUssV0FBV0MsUUFBUUUsTUFBTUMsTUFBTSxPQUFBQyxLQUMzQ04sS0FBS08sTUFDTFAsS0FBTyxHQUFHQSxLQUFLUSxLQUFLLE9BQUFGLE9BQU8sT0FBQUEsTUFBTVQsU0FBU1EsTUFBTSxLQUFLLEtBRXpELElBQUlJLFFBQVUsV0FBQUMsV0FBV1YsTUFBUSxXQUFBVyxhQUFhWCxNQUFNWSxXQUFhLEdBQ2pFLEdBQXVCLGlCQUFaZCxRQUFzQixDQUM3QixXQUFBZSxjQUFjYixLQUFNRixTQUNwQixTQUVKLE1BQU1nQixNQUFRTCxRQUFRSixNQUFNLE1BQU0sR0FDNUJVLElBQU1DLFNBQVNGLE1BQU1ULE1BQU0sZUFBZSxHQUFJLElBQ3BELEtBQUlVLEtBQU9qQixTQUFYLENBQ0EsSUFBSyxNQUFPbUIsRUFBTUMsRUFBTUMsRUFBTUMsS0FBU3JCLFFBQ25DLEdBQWEsWUFBVGtCLEVBQ0FSLFFBQVVBLFFBQVFZLFFBQVFILEVBQU1DLFFBQzdCLEdBQWEsbUJBQVRGLEVBQTJCLENBQ2xDLE1BQU9LLEVBQVFDLEdBQU9kLFFBQVFKLE1BQU1hLElBQzdCLENBQUVNLEdBQVNELEVBQUlsQixNQUFNYyxHQUM1QlYsUUFBVWEsRUFBU0osRUFBT0UsRUFBT0QsRUFBT0ssTUFDeEIsV0FBVFAsRUFDUFIsUUFBVUEsUUFBUVksUUFBUUgsRUFBTUEsRUFBT0MsR0FDdkIsV0FBVEYsSUFDUFIsUUFBVUEsUUFBUVksUUFBUUgsRUFBTSxLQUd4Q1QsUUFBVSxjQUFjWCxZQUFZVyxVQUNwQyxXQUFBSSxjQUFjYixLQUFNUyxXQU12QmdCLE9BQU9DLFFBQVFoQyxPQUZwQixlQUFTQSxNLFNDbEVUK0IsRUFBT0UsUUFBVUMsUUFBUSxhLFNDQXpCSCxFQUFPRSxRQUFVQyxRQUFRLFVDQ3JCQyx5QkFBMkIsR0FHL0IsU0FBU0Msb0JBQW9CQyxHQUU1QixJQUFJQyxFQUFlSCx5QkFBeUJFLEdBQzVDLFFBQXFCRSxJQUFqQkQsRUFDSCxPQUFPQSxFQUFhTCxRQUdyQixJQUFJRixFQUFTSSx5QkFBeUJFLEdBQVksQ0FDakRHLEdBQUlILEVBQ0pJLFFBQVEsRUFDUlIsUUFBUyxJQVVWLE9BTkFTLG9CQUFvQkwsR0FBVU4sRUFBUUEsRUFBT0UsUUFBU0cscUJBR3RETCxFQUFPVSxRQUFTLEVBR1RWLEVBQU9FLFFDeEJmRyxvQkFBb0JPLElBQU9aLElBQzFCQSxFQUFPYSxNQUFRLEdBQ1ZiLEVBQU9jLFdBQVVkLEVBQU9jLFNBQVcsSUFDakNkLEdDQVIsSUFBSWUsb0JBQXNCVixvQkFBb0IsTyIsImZpbGUiOiJoYWNrLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZXhpc3RzU3luYywgcmVhZEZpbGVTeW5jLCB3cml0ZUZpbGVTeW5jIH0gZnJvbSAnZnMtZXh0cmEnO1xuaW1wb3J0IHsgc2VwIH0gZnJvbSAncGF0aCc7XG5cbmNvbnN0IHRhc2tzOiBbc3RyaW5nLCBudW1iZXIgfCBzdHJpbmcsIC4uLnN0cmluZ1tdW11dW10gPSBbXG4gICAgW1xuICAgICAgICAna29pc2hpLWNvcmUnLCAyLFxuICAgICAgICBbXG4gICAgICAgICAgICAnYXBwZW5kJywgJ3Rocm93IGVycm9yMjsnLFxuICAgICAgICAgICAgYGlmICh0eXBlb2YgZXJyb3IyID09PSAnc3RyaW5nJyl7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbi51c2VyLnVzYWdlW2FyZ3YuY29tbWFuZC5uYW1lXS0tO1xuICAgICAgICAgICAgICAgIHJldHVybiBzZXNzaW9uLnNlbmQoZXJyb3IyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlc3Npb24uc2VuZChlcnJvcjIubWVzc2FnZSk7YCxcbiAgICAgICAgXSxcbiAgICBdLFxuICAgIFtcbiAgICAgICAgJ2tvaXNoaS1wbHVnaW4tdGVhY2gnLCAzLFxuICAgICAgICBbJ2FwcGVuZCcsICdzdGF0ZS5kaWFsb2d1ZSA9IGRpYWxvZ3VlOycsICdcXG5zZXNzaW9uLl9kaWFsb2d1ZSA9IGRpYWxvZ3VlOyddLFxuICAgICAgICBbJ3JlcGxhY2UnLCBcIi50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xcXFxzKy9nLCAnJylcIiwgJyddLFxuICAgICAgICBbJ3JlcGxhY2UnLCBgICAgICAgICBpZiAoaW5kZXggPT09IDApXG4gICAgICAgICAgICBtZXNzYWdlID0gbWVzc2FnZS5yZXBsYWNlKC9eWygpXFxcXFtcXFxcXV0qLywgJycpO1xuICAgICAgICBpZiAoaW5kZXggPT09IGFyci5sZW5ndGggLSAxKVxuICAgICAgICAgICAgbWVzc2FnZSA9IG1lc3NhZ2UucmVwbGFjZSgvW1xcXFwuLD8hKClcXFxcW1xcXFxdfl0qJC8sICcnKTtgLCAnJ10sXG4gICAgXSxcbl07XG5cbmFzeW5jIGZ1bmN0aW9uIGhhY2soKSB7XG4gICAgY29uc29sZS5sb2coJ1J1bm5pbmcgSGFjaycpO1xuICAgIGZvciAoY29uc3QgW2ZpbGVuYW1lLCB2ZXJzaW9uLCAuLi5jaGFuZ2VzXSBvZiB0YXNrcykge1xuICAgICAgICBsZXQgZmlsZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1ldmFsXG4gICAgICAgICAgICBmaWxlID0gZXZhbCgncmVxdWlyZScpLnJlc29sdmUoZmlsZW5hbWUpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zdCBuYW1lID0gZmlsZW5hbWUuc3BsaXQoJy8nKVswXTtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1ldmFsXG4gICAgICAgICAgICBmaWxlID0gZXZhbCgncmVxdWlyZScpLnJlc29sdmUobmFtZSkuc3BsaXQoc2VwKTtcbiAgICAgICAgICAgIGZpbGUucG9wKCk7XG4gICAgICAgICAgICBmaWxlID0gYCR7ZmlsZS5qb2luKHNlcCl9JHtzZXB9JHtmaWxlbmFtZS5zcGxpdCgnLycpWzFdfWA7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNvbnRlbnQgPSBleGlzdHNTeW5jKGZpbGUpID8gcmVhZEZpbGVTeW5jKGZpbGUpLnRvU3RyaW5nKCkgOiAnJztcbiAgICAgICAgaWYgKHR5cGVvZiB2ZXJzaW9uID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgd3JpdGVGaWxlU3luYyhmaWxlLCB2ZXJzaW9uKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZpcnN0ID0gY29udGVudC5zcGxpdCgnXFxuJylbMF07XG4gICAgICAgIGNvbnN0IHZlciA9IHBhcnNlSW50KGZpcnN0LnNwbGl0KCcvLyBIYWNrZWQgdicpWzFdLCAxMCk7XG4gICAgICAgIGlmICh2ZXIgPj0gdmVyc2lvbikgY29udGludWU7XG4gICAgICAgIGZvciAoY29uc3QgW3R5cGUsIGFyZzAsIGFyZzEsIGFyZzJdIG9mIGNoYW5nZXMpIHtcbiAgICAgICAgICAgIGlmICh0eXBlID09PSAncmVwbGFjZScpIHtcbiAgICAgICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKGFyZzAsIGFyZzEpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAncmVwbGFjZUJldHdlZW4nKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgW2JlZm9yZSwgbWlkXSA9IGNvbnRlbnQuc3BsaXQoYXJnMCk7XG4gICAgICAgICAgICAgICAgY29uc3QgWywgYWZ0ZXJdID0gbWlkLnNwbGl0KGFyZzEpO1xuICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBiZWZvcmUgKyBhcmcwICsgYXJnMiArIGFyZzEgKyBhZnRlcjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2FwcGVuZCcpIHtcbiAgICAgICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKGFyZzAsIGFyZzAgKyBhcmcxKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3JlbW92ZScpIHtcbiAgICAgICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKGFyZzAsICcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb250ZW50ID0gYC8vIEhhY2tlZCB2JHt2ZXJzaW9ufVxcbiR7Y29udGVudH1gO1xuICAgICAgICB3cml0ZUZpbGVTeW5jKGZpbGUsIGNvbnRlbnQpO1xuICAgIH1cbn1cblxuZXhwb3J0ID0gaGFjaztcblxuaWYgKCFtb2R1bGUucGFyZW50KSBoYWNrKCk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJmcy1leHRyYVwiKTs7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicGF0aFwiKTs7IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0bG9hZGVkOiBmYWxzZSxcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG5cdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5ubWQgPSAobW9kdWxlKSA9PiB7XG5cdG1vZHVsZS5wYXRocyA9IFtdO1xuXHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XG5cdHJldHVybiBtb2R1bGU7XG59OyIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgaXMgcmVmZXJlbmNlZCBieSBvdGhlciBtb2R1bGVzIHNvIGl0IGNhbid0IGJlIGlubGluZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MzIwKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=